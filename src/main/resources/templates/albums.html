<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Albums - Copify</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Circular', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            background: linear-gradient(180deg, #121212 0%, #000000 100%);
            color: #ffffff;
            min-height: 100vh;
        }

        .container {
            display: flex;
            height: 100vh;
        }

        /* Sidebar */
        .sidebar {
            width: 230px;
            background-color: #000000;
            padding: 24px 12px;
            display: flex;
            flex-direction: column;
            gap: 24px;
        }

        .logo {
            font-size: 28px;
            font-weight: 700;
            padding: 0 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .logo svg {
            width: 170px;
            height: 100px;
            fill: #ffffff;
        }

        .nav-menu {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .nav-item {
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 12px;
            color: #b3b3b3;
            text-decoration: none;
            border-radius: 4px;
            transition: color 0.2s;
            font-size: 14px;
            font-weight: 700;
        }

        .nav-item:hover {
            color: #ffffff;
        }

        .nav-item.active {
            color: #ffffff;
            background-color: #282828;
        }

        .nav-icon {
            width: 24px;
            height: 24px;
            fill: currentColor;
        }

        /* Main Content */
        .main-content {
            flex: 1;
            background: linear-gradient(180deg, #1e3a5f 0%, #121212 300px);
            overflow-y: auto;
            padding: 16px 32px 32px;
        }

        /* Header */
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 32px;
            padding-top: 8px;
        }

        .nav-buttons {
            display: flex;
            gap: 16px;
        }

        .nav-btn {
            background-color: rgba(0, 0, 0, 0.7);
            border: none;
            border-radius: 50%;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            color: #ffffff;
        }

        .search-bar {
            display: flex;
            align-items: center;
            background-color: #ffffff;
            border-radius: 500px;
            padding: 8px 16px;
            width: 364px;
        }

        .search-bar input {
            border: none;
            background: none;
            outline: none;
            width: 100%;
            font-size: 14px;
            color: #000000;
        }

        .search-bar input::placeholder {
            color: #757575;
        }

        /* User Profile */
        .user-profile {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .user-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: linear-gradient(135deg, #1db954, #1ed760);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            font-weight: 700;
            color: #000;
            cursor: pointer;
        }

        .user-dropdown {
            position: relative;
        }

        .user-menu {
            position: absolute;
            top: 100%;
            right: 0;
            margin-top: 8px;
            background-color: #282828;
            border-radius: 4px;
            padding: 4px;
            min-width: 160px;
            box-shadow: 0 16px 24px rgba(0,0,0,0.3);
            display: none;
            z-index: 1000;
        }

        .user-dropdown:hover .user-menu {
            display: block;
        }

        .user-menu-item {
            display: flex;
            align-items: center;
            padding: 12px 16px;
            color: #ffffff;
            text-decoration: none;
            border-radius: 2px;
            font-size: 14px;
            transition: background-color 0.2s;
        }

        .user-menu-item:hover {
            background-color: #3e3e3e;
        }

        .auth-buttons {
            display: flex;
            gap: 16px;
        }

        .auth-btn {
            padding: 8px 24px;
            border-radius: 500px;
            border: none;
            font-weight: 700;
            cursor: pointer;
            text-decoration: none;
            display: inline-block;
            transition: all 0.2s;
            font-size: 14px;
        }

        .btn-login {
            background-color: transparent;
            color: #fff;
            border: 1px solid #fff;
        }

        .btn-login:hover {
            transform: scale(1.04);
            border-color: #1db954;
            color: #1db954;
        }

        .btn-signup {
            background-color: #fff;
            color: #000;
        }

        .btn-signup:hover {
            transform: scale(1.04);
        }

        /* Section */
        .section {
            margin-bottom: 40px;
        }

        .section-title {
            font-size: 32px;
            font-weight: 700;
            margin-bottom: 24px;
        }

        /* Grid */
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 24px;
        }

        .card {
            background-color: #181818;
            padding: 16px;
            border-radius: 8px;
            transition: background-color 0.3s;
            cursor: pointer;
            text-decoration: none;
            color: inherit;
            display: block;
            position: relative;
        }

        .card:hover {
            background-color: #282828;
        }

        .card:hover .play-btn {
            opacity: 1;
            transform: translateY(0);
        }

        .card-image-wrapper {
            position: relative;
            width: 100%;
            aspect-ratio: 1;
            margin-bottom: 16px;
        }

        .card-image {
            width: 100%;
            height: 100%;
            border-radius: 4px;
            object-fit: cover;
            background-color: #333;
        }

        .play-btn {
            position: absolute;
            bottom: 8px;
            right: 8px;
            width: 48px;
            height: 48px;
            background-color: #1db954;
            border: none;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            opacity: 0;
            transform: translateY(8px);
            transition: all 0.3s;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
        }

        .play-btn:hover {
            background-color: #1ed760;
            transform: translateY(0) scale(1.05);
        }

        .play-btn svg {
            width: 20px;
            height: 20px;
            fill: #000;
            margin-left: 2px;
        }

        .card-title {
            font-size: 16px;
            font-weight: 700;
            margin-bottom: 8px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .card-subtitle {
            font-size: 14px;
            color: #b3b3b3;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .card-info {
            font-size: 13px;
            color: #b3b3b3;
            margin-top: 4px;
        }

        .no-results {
            text-align: center;
            padding: 60px 20px;
            color: #b3b3b3;
        }

        .no-results h3 {
            font-size: 24px;
            margin-bottom: 12px;
            color: #ffffff;
        }

        /* Song list styles (for search results) */
        .song-list-header {
            display: grid;
            grid-template-columns: 40px 1fr 200px 100px 80px;
            gap: 16px;
            padding: 8px 16px;
            border-bottom: 1px solid #282828;
            margin-bottom: 16px;
            color: #b3b3b3;
            font-size: 14px;
        }

        .song-list { display: flex; flex-direction: column; }
        .song-item {
            display: grid;
            grid-template-columns: 40px 1fr 200px 100px 80px;
            align-items: center;
            padding: 8px 16px;
            border-radius: 4px;
            transition: background-color 0.2s;
            gap: 16px;
            cursor: pointer;
        }
        .song-item:hover { background-color: #282828; }
        .song-number { text-align: center; color: #b3b3b3; font-size: 16px; }
        .song-info { display: flex; gap: 12px; align-items: center; min-width: 0; }
        .song-thumbnail { width: 40px; height: 40px; border-radius: 4px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); flex-shrink: 0; }
        .song-details { min-width: 0; flex: 1; }
        .song-title { font-size: 16px; color: #ffffff; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; margin-bottom: 4px; }
        .song-artist { font-size: 14px; color: #b3b3b3; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
        .song-album { color: #b3b3b3; font-size: 14px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; text-decoration: none; }
        .song-album:hover { color: #ffffff; text-decoration: underline; }
        .song-plays { color: #b3b3b3; font-size: 14px; text-align: center; }
        .song-duration { color: #b3b3b3; font-size: 14px; text-align: right; display: flex; align-items: center; justify-content: flex-end; gap: 16px; }

        @media (max-width: 768px) {
            .sidebar {
                width: 80px;
            }
            .nav-item span {
                display: none;
            }
            .grid {
                grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="logo" style="width: 300px;height: 50px">
                <svg width="456" height="116" viewBox="0 0 456 116" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M81.831 2.99998C82.0828 2.9919 82.3185 2.99216 82.5374 2.99998H81.831C76.7146 3.16421 64.9746 6.77533 53.5374 20.5C38.5374 38.5 34.5374 43 31.0374 47C27.5374 51 21.0375 58.5 31.0374 70L57.5374 100.5C60.2041 104 68.6375 111.3 81.0375 112.5H52.5375C45.0375 112.5 36.5375 108.5 27.5375 98C18.5375 87.5 6.53748 74 4.03748 71C1.53748 68 -2.46252 57.5 2.03748 50.5C6.03748 45 17.5375 30.5 26.5375 20.5C35.5375 10.5 38.0375 6.5 45.0375 5C52.0375 3.5 56.0375 2.99998 60.5375 2.99998H81.831Z" fill="white"/>
                    <path d="M130.868 2.99998C131.12 2.9919 131.356 2.99216 131.575 2.99998H130.868C125.752 3.16421 114.012 6.77533 102.575 20.5C87.5749 38.5 83.5749 43 80.0749 47C76.5749 51 70.0749 58.5 80.0749 70L106.575 100.5C109.242 104 117.675 111.3 130.075 112.5H101.575C94.075 112.5 85.575 108.5 76.575 98C67.575 87.5 55.575 74 53.075 71C50.575 68 46.575 57.5 51.075 50.5C55.075 45 66.575 30.5 75.575 20.5C84.575 10.5 87.075 6.5 94.075 5C101.075 3.5 105.075 2.99998 109.575 2.99998H130.868Z" fill="white"/>
                    <path d="M210.708 47.625H195.776C195.503 45.6932 194.947 43.9773 194.106 42.4773C193.265 40.9545 192.185 39.6591 190.867 38.5909C189.549 37.5227 188.026 36.7045 186.299 36.1364C184.594 35.5682 182.742 35.2841 180.742 35.2841C177.128 35.2841 173.981 36.1818 171.299 37.9773C168.617 39.75 166.537 42.3409 165.06 45.75C163.583 49.1364 162.844 53.25 162.844 58.0909C162.844 63.0682 163.583 67.25 165.06 70.6364C166.56 74.0227 168.651 76.5795 171.333 78.3068C174.015 80.0341 177.117 80.8977 180.64 80.8977C182.617 80.8977 184.447 80.6364 186.128 80.1136C187.833 79.5909 189.344 78.8295 190.662 77.8295C191.981 76.8068 193.072 75.5682 193.935 74.1136C194.822 72.6591 195.435 71 195.776 69.1364L210.708 69.2045C210.322 72.4091 209.356 75.5 207.81 78.4773C206.287 81.4318 204.231 84.0795 201.64 86.4205C199.072 88.7386 196.003 90.5795 192.435 91.9432C188.89 93.2841 184.878 93.9545 180.401 93.9545C174.174 93.9545 168.606 92.5455 163.697 89.7273C158.81 86.9091 154.947 82.8295 152.106 77.4886C149.287 72.1477 147.878 65.6818 147.878 58.0909C147.878 50.4773 149.31 44 152.174 38.6591C155.037 33.3182 158.924 29.25 163.833 26.4545C168.742 23.6364 174.265 22.2273 180.401 22.2273C184.447 22.2273 188.197 22.7955 191.651 23.9318C195.128 25.0682 198.208 26.7273 200.89 28.9091C203.572 31.0682 205.753 33.7159 207.435 36.8523C209.14 39.9886 210.231 43.5795 210.708 47.625ZM244.68 94.0227C239.384 94.0227 234.805 92.8977 230.941 90.6477C227.1 88.375 224.134 85.2159 222.043 81.1705C219.952 77.1023 218.907 72.3864 218.907 67.0227C218.907 61.6136 219.952 56.8864 222.043 52.8409C224.134 48.7727 227.1 45.6136 230.941 43.3636C234.805 41.0909 239.384 39.9545 244.68 39.9545C249.975 39.9545 254.543 41.0909 258.384 43.3636C262.248 45.6136 265.225 48.7727 267.316 52.8409C269.407 56.8864 270.452 61.6136 270.452 67.0227C270.452 72.3864 269.407 77.1023 267.316 81.1705C265.225 85.2159 262.248 88.375 258.384 90.6477C254.543 92.8977 249.975 94.0227 244.68 94.0227ZM244.748 82.7727C247.157 82.7727 249.168 82.0909 250.782 80.7273C252.395 79.3409 253.611 77.4545 254.43 75.0682C255.27 72.6818 255.691 69.9659 255.691 66.9205C255.691 63.875 255.27 61.1591 254.43 58.7727C253.611 56.3864 252.395 54.5 250.782 53.1136C249.168 51.7273 247.157 51.0341 244.748 51.0341C242.316 51.0341 240.27 51.7273 238.611 53.1136C236.975 54.5 235.736 56.3864 234.895 58.7727C234.077 61.1591 233.668 63.875 233.668 66.9205C233.668 69.9659 234.077 72.6818 234.895 75.0682C235.736 77.4545 236.975 79.3409 238.611 80.7273C240.27 82.0909 242.316 82.7727 244.748 82.7727ZM279.895 112.636V40.6364H294.214V49.4318H294.861C295.498 48.0227 296.418 46.5909 297.623 45.1364C298.85 43.6591 300.441 42.4318 302.395 41.4545C304.373 40.4545 306.827 39.9545 309.759 39.9545C313.577 39.9545 317.1 40.9545 320.327 42.9545C323.555 44.9318 326.134 47.9205 328.066 51.9205C329.998 55.8977 330.964 60.8864 330.964 66.8864C330.964 72.7273 330.02 77.6591 328.134 81.6818C326.27 85.6818 323.725 88.7159 320.498 90.7841C317.293 92.8295 313.702 93.8523 309.725 93.8523C306.907 93.8523 304.509 93.3864 302.532 92.4545C300.577 91.5227 298.975 90.3523 297.725 88.9432C296.475 87.5114 295.52 86.0682 294.861 84.6136H294.418V112.636H279.895ZM294.111 66.8182C294.111 69.9318 294.543 72.6477 295.407 74.9659C296.27 77.2841 297.52 79.0909 299.157 80.3864C300.793 81.6591 302.782 82.2955 305.123 82.2955C307.486 82.2955 309.486 81.6477 311.123 80.3523C312.759 79.0341 313.998 77.2159 314.839 74.8977C315.702 72.5568 316.134 69.8636 316.134 66.8182C316.134 63.7955 315.714 61.1364 314.873 58.8409C314.032 56.5455 312.793 54.75 311.157 53.4545C309.52 52.1591 307.509 51.5114 305.123 51.5114C302.759 51.5114 300.759 52.1364 299.123 53.3864C297.509 54.6364 296.27 56.4091 295.407 58.7045C294.543 61 294.111 63.7045 294.111 66.8182ZM340.645 93V40.6364H355.168V93H340.645ZM347.941 33.8864C345.782 33.8864 343.93 33.1705 342.384 31.7386C340.861 30.2841 340.1 28.5455 340.1 26.5227C340.1 24.5227 340.861 22.8068 342.384 21.375C343.93 19.9205 345.782 19.1932 347.941 19.1932C350.1 19.1932 351.941 19.9205 353.464 21.375C355.009 22.8068 355.782 24.5227 355.782 26.5227C355.782 28.5455 355.009 30.2841 353.464 31.7386C351.941 33.1705 350.1 33.8864 347.941 33.8864ZM394.961 40.6364V51.5455H362.643V40.6364H394.961ZM370.04 93V36.8523C370.04 33.0568 370.779 29.9091 372.256 27.4091C373.756 24.9091 375.802 23.0341 378.393 21.7841C380.983 20.5341 383.927 19.9091 387.222 19.9091C389.449 19.9091 391.483 20.0795 393.324 20.4205C395.188 20.7614 396.574 21.0682 397.483 21.3409L394.893 32.25C394.324 32.0682 393.62 31.8977 392.779 31.7386C391.961 31.5795 391.12 31.5 390.256 31.5C388.12 31.5 386.631 32 385.79 33C384.949 33.9773 384.529 35.3523 384.529 37.125V93H370.04ZM412.799 112.636C410.958 112.636 409.231 112.489 407.617 112.193C406.026 111.92 404.708 111.568 403.662 111.136L406.935 100.295C408.64 100.818 410.174 101.102 411.537 101.148C412.924 101.193 414.117 100.875 415.117 100.193C416.14 99.5114 416.969 98.3523 417.606 96.7159L418.458 94.5L399.674 40.6364H414.947L425.787 79.0909H426.333L437.276 40.6364H452.651L432.299 98.6591C431.322 101.477 429.992 103.932 428.31 106.023C426.651 108.136 424.549 109.761 422.003 110.898C419.458 112.057 416.39 112.636 412.799 112.636Z" fill="white"/>
                </svg>
            </div>

            <nav class="nav-menu">
                <a href="/" class="nav-item">
                    <svg class="nav-icon" viewBox="0 0 512 512">
                        <path d="M261.56 101.28a8 8 0 00-11.06 0L66.4 277.15a8 8 0 00-2.47 5.79L63.9 448a32 32 0 0032 32H192a16 16 0 0016-16V328a8 8 0 018-8h80a8 8 0 018 8v136a16 16 0 0016 16h96.06a32 32 0 0032-32V282.94a8 8 0 00-2.47-5.79z"/>
                        <path d="M490.91 244.15l-74.8-71.56V64a16 16 0 00-16-16h-48a16 16 0 00-16 16v32l-57.92-55.38C272.77 35.14 264.71 32 256 32c-8.68 0-16.72 3.14-22.14 8.63l-212.7 203.5c-6.22 6-7 15.87-1.34 22.37A16 16 0 0043 267.56L250.5 69.28a8 8 0 0111.06 0l207.52 198.28a16 16 0 0022.59-.44c6.14-6.36 5.63-16.86-.76-22.97z"/>
                    </svg>
                    <span>Home</span>
                </a>
                <a href="/search?q=" class="nav-item">
                    <svg class="nav-icon" viewBox="0 0 512 512">
                        <path d="M221.09 64a157.09 157.09 0 10157.09 157.09A157.1 157.1 0 00221.09 64z" fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="32"/>
                        <path fill="none" stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="32" d="M338.29 338.29L448 448"/>
                    </svg>
                    <span>Search</span>
                </a>
                <a href="/albums" class="nav-item active">
                    <svg class="nav-icon" viewBox="0 0 512 512">
                        <rect x="32" y="96" width="64" height="368" rx="16" ry="16" fill="currentColor"/>
                        <rect x="112" y="32" width="64" height="432" rx="16" ry="16" fill="currentColor"/>
                        <rect x="192" y="112" width="64" height="352" rx="16" ry="16" fill="currentColor"/>
                        <rect x="272" y="48" width="64" height="416" rx="16" ry="16" fill="currentColor"/>
                        <rect x="352" y="160" width="64" height="304" rx="16" ry="16" fill="currentColor"/>
                        <rect x="432" y="128" width="64" height="336" rx="16" ry="16" fill="currentColor"/>
                    </svg>
                    <span>Albums</span>
                </a>
                <a href="/songs" class="nav-item">
                    <svg class="nav-icon" viewBox="0 0 512 512">
                        <path d="M183.83 480a55.2 55.2 0 01-32.36-10.55A56.64 56.64 0 01128 423.58a50.26 50.26 0 014.62-27.73 47.74 47.74 0 0115.67-18.13c9.15-6.34 20.28-10.3 32-11.5a50.58 50.58 0 0112.76 0 54.76 54.76 0 0117.1 5.34A58.52 58.52 0 01232 392.08V146l176-53.84v196.34a50.26 50.26 0 014.62 27.73 56.64 56.64 0 01-23.47 45.87A55.2 55.2 0 01356.83 373a58.52 58.52 0 01-21.85-20.52 54.76 54.76 0 01-7.10-17.1 50.58 50.58 0 010-12.76c1.2-11.72 5.16-22.85 11.5-32a47.74 47.74 0 0118.13-15.67A50.26 50.26 0 01385.24 271a56.64 56.64 0 0145.87 23.47A55.2 55.2 0 01442 327.83V32l64 32v300.58a56.64 56.64 0 01-23.47 45.87A55.2 55.2 0 01450.17 421a58.52 58.52 0 01-21.85-20.52A54.76 54.76 0 01421.22 383a50.58 50.58 0 010-12.76c1.2-11.72 5.16-22.85 11.5-32a47.74 47.74 0 0118.13-15.67" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"/>
                    </svg>
                    <span>Songs</span>
                </a>
                <a href="/users" class="nav-item">
                    <svg class="nav-icon" viewBox="0 0 512 512">
                        <path d="M402 168c-2.93 40.67-33.1 72-66 72s-63.12-31.32-66-72c-3-42.31 26.37-72 66-72s69 30.46 66 72z" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"/>
                        <path d="M336 304c-65.17 0-127.84 32.37-143.54 95.41-2.08 8.34 3.15 16.59 11.72 16.59h263.65c8.57 0 13.77-8.25 11.72-16.59C463.85 335.36 401.18 304 336 304z" fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="32"/>
                        <path d="M200 185.94c-2.34 32.48-26.72 58.06-53 58.06s-50.7-25.57-53-58.06C91.61 152.15 115.34 128 147 128s55.39 24.77 53 57.94z" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"/>
                        <path d="M206 306c-18.05-8.27-37.93-11.45-59-11.45-52 0-102.1 25.85-114.65 76.2-1.65 6.66 2.53 13.25 9.37 13.25H154" fill="none" stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="32"/>
                    </svg>
                    <span>Users</span>
                </a>
            </nav>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <div class="header">
                <div class="nav-buttons">
                    <button class="nav-btn" onclick="history.back()">←</button>
                    <button class="nav-btn" onclick="history.forward()">→</button>
                </div>

                <form action="/search" method="get" class="search-bar">
                    <svg style="margin-right: 7px" width="16" height="16" viewBox="0 0 16 16" fill="none">
                        <path d="M7 12.5a5.5 5.5 0 100-11 5.5 5.5 0 000 11zM13.5 13.5l-3-3" stroke="#000" stroke-width="1.5" stroke-linecap="round"/>
                    </svg>
                    <input style="margin-top:1px" type="text"
                           name="q" 
                           th:value="${searchQuery}" 
                           placeholder="Search albums and songs..." />
                </form>

                <!-- User Profile or Auth Buttons -->
                <div th:if="${loggedInUser != null}" class="user-profile">
                    <div class="user-dropdown">
                        <div class="user-avatar" th:text="${#strings.substring(loggedInUser.username, 0, 1).toUpperCase()}">U</div>
                        <div class="user-menu">
                            <a href="/users" class="user-menu-item">
                                <span th:text="${loggedInUser.username}">Username</span>
                            </a>
                            <a href="/users/logout" class="user-menu-item">Logout</a>
                        </div>
                    </div>
                </div>
                <div th:if="${loggedInUser == null}" class="auth-buttons">
                    <a href="/users/login" class="auth-btn btn-login">Log in</a>
                    <a href="/users/register" class="auth-btn btn-signup">Sign up</a>
                </div>
            </div>

            <section class="section">
                <h1 class="section-title" th:text="${searchQuery != null ? 'Search results for ' + searchQuery : 'All Albums'}">All Albums</h1>

                <!-- Default view: All albums -->
                <div th:if="${searchQuery == null}">
                    <div th:if="${#lists.isEmpty(albums)}" class="no-results">
                        <h3>No albums found</h3>
                        <p>Try searching with different keywords</p>
                    </div>
                    <div th:unless="${#lists.isEmpty(albums)}" class="grid">
                        <a th:each="album : ${albums}" 
                           th:href="@{/album/{id}(id=${album.id})}" 
                           class="card">
                            <div class="card-image-wrapper">
                                <img th:src="${album.imageUrl}" 
                                     th:alt="${album.name}" 
                                     class="card-image"
                                     onerror="this.src='https://via.placeholder.com/300x300/333/fff?text=Album'">
                                <button class="play-btn">
                                    <svg viewBox="0 0 16 16">
                                        <path d="M3 1.713a.7.7 0 011.05-.607l10.89 6.288a.7.7 0 010 1.212L4.05 14.894A.7.7 0 013 14.288V1.713z"/>
                                    </svg>
                                </button>
                            </div>
                            <div class="card-title" th:text="${album.name}">Album Name</div>
                            <div class="card-subtitle" th:text="${album.artist + ' • ' + album.releaseYear}">Artist Name • Year</div>
                            <div class="card-info" th:text="${#numbers.formatInteger(album.followers, 3, 'COMMA') + ' followers'}">0 followers</div>
                        </a>
                    </div>
                </div>

                <!-- Search results: show albums and songs sections separately -->
                <div th:if="${searchQuery != null}">
                    <div th:if="${#lists.isEmpty(albums) and #lists.isEmpty(songs)}" class="no-results">
                        <h3>No results found</h3>
                        <p>Try searching with different keywords</p>
                    </div>

                    <!-- Albums section -->
                    <div th:unless="${#lists.isEmpty(albums)}" style="margin-top: 16px;">
                        <h2 class="section-title" style="font-size:24px;">Albums</h2>
                        <div class="grid">
                            <a th:each="album : ${albums}" 
                               th:href="@{/album/{id}(id=${album.id})}" 
                               class="card">
                                <div class="card-image-wrapper">
                                    <img th:src="${album.imageUrl}" 
                                         th:alt="${album.name}" 
                                         class="card-image"
                                         onerror="this.src='https://via.placeholder.com/300x300/333/fff?text=Album'">
                                    <button class="play-btn">
                                        <svg viewBox="0 0 16 16">
                                            <path d="M3 1.713a.7.7 0 011.05-.607l10.89 6.288a.7.7 0 010 1.212L4.05 14.894A.7.7 0 013 14.288V1.713z"/>
                                        </svg>
                                    </button>
                                </div>
                                <div class="card-title" th:text="${album.name}">Album Name</div>
                                <div class="card-subtitle" th:text="${album.artist + ' • ' + album.releaseYear}">Artist Name • Year</div>
                                <div class="card-info" th:text="${#numbers.formatInteger(album.followers, 3, 'COMMA') + ' followers'}">0 followers</div>
                            </a>
                        </div>
                    </div>

                    <!-- Songs section -->
                    <div th:unless="${#lists.isEmpty(songs)}" style="margin-top: 32px;">
                        <h2 class="section-title" style="font-size:24px;">Songs</h2>
                        <div class="song-list-header">
                            <div>#</div>
                            <div>Title</div>
                            <div>Album</div>
                            <div style="text-align:center;">Plays</div>
                            <div style="text-align:right;">Duration</div>
                        </div>
                        <div class="song-list">
                            <div th:each="song, iterStat : ${songs}" class="song-item">
                                <div class="song-number" th:text="${iterStat.index + 1}">1</div>
                                <div class="song-info">
                                    <div class="song-thumbnail"></div>
                                    <div class="song-details">
                                        <div class="song-title" th:text="${song.title}">Song Title</div>
                                        <div class="song-artist" th:text="${song.artist}">Artist Name</div>
                                    </div>
                                </div>
                                <a th:href="@{/album/{id}(id=${song.albumId})}" class="song-album" th:text="${song.album}">Album Name</a>
                                <div class="song-plays" th:text="${#numbers.formatInteger(song.plays, 3, 'COMMA')}">0</div>
                                <div class="song-duration" th:text="${song.duration}">3:45</div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </div>
</body>
</html>
